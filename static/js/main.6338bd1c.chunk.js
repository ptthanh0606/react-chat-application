(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(8),r=n(0),a=n.n(r),i="CHATAPP-";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=i+e,r=a.a.useState((function(){var e=localStorage.getItem(n);return null!==e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(c.a)(r,2),s=o[0],u=o[1];return a.a.useEffect((function(){localStorage.setItem(n,JSON.stringify(s))}),[n,s]),[s,u]}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(9),r=Object(c.b)({name:"LoginMessageSlice",initialState:{label:""},reducers:{setLoginMessage:function(e,t){e.label=t.payload}}}),a=r.actions.setLoginMessage,i=function(e){return e.loginMessage.label},o=r.reducer},20:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(9),r=Object(c.b)({name:"authSlice",initialState:{user:{}},reducers:{setUserInfo:function(e,t){e.user=t.payload}}}),a=r.actions.setUserInfo,i=function(e){return e.auth.user},o=r.reducer},24:function(e,t,n){"use strict";n.r(t);var c=n(15),r=n(35),a=n(0),i=n.n(a),o=n(38),s=n.n(o),u=n(39),l=n(1),d=function(e){var t=e.text,n=void 0===t?"Stuff up some works...":t,a=Object(r.a)(e,["text"]);return Object(l.jsx)("div",Object(c.a)(Object(c.a)({className:"d-flex align-items-center justify-content-center",style:{height:"100vh"}},a),{},{children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(l.jsx)(s.a,{type:"spin",color:u.a,height:42,width:42}),Object(l.jsx)("span",{className:"font-weight-bold mt-2",children:n})]})}))};t.default=i.a.memo(d)},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return l}));var c="http://chat-application.us-east-2.elasticbeanstalk.com/api/",r=c+"user/login",a=function(e){return c+"contact?uuid="+e},i=function(e){return c+"contact/addcontact?uuid="+e},o=function(e){return c+"conversation?uuid="+e},s=function(e){return c+"conversation/startConversation?uuid="+e},u=function(e){return c+"message/sendMessage?conversationId="+e},l=function(e,t){return c+"message?conversationId="+e+"&uuid="+t}},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var c=n(9),r=Object(c.b)({name:"SelectedsSlice",initialState:{uuid:"",conversationId:""},reducers:{setSelectedUUID:function(e,t){e.uuid=t.payload},setSelectedConversationId:function(e,t){e.conversationId=t.payload}}}),a=function(e){return e.selecteds},i=r.actions,o=(i.setSelectedUUID,i.setSelectedConversationId),s=r.reducer},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(9),r=Object(c.b)({name:"refreshSlice",initialState:{trigger:{}},reducers:{triggerRefresh:function(e,t){console.log("Hello"),t.payload}}}),a=r.actions.triggerRefresh,i=function(e){return e.refresh.triggger},o=r.reducer},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c="#007BFF"},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(15),r=n(8),a=n(32),i=n.n(a),o=n(0),s=n.n(o),u=n(19),l=n(31),d=n(20),f=n(17),b=function(){var e=Object(u.b)(),t=s.a.useState(!1),n=Object(r.a)(t,2)[1],a=s.a.useCallback((function(t){return new Promise((function(r,a){i.a.post(l.f,t).then((function(t){e(Object(d.c)(t.data.data)),n(!0),r()})).catch((function(t){Object(c.a)({},t).response?e(Object(f.c)("Incorrect password or email! Please try again.")):e(Object(f.c)("Server error! Please contact the administrator.")),n(!1),a()}))}))}),[e]);return function(e){return a(e)}}},56:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),i=n.n(a),o=(n(56),n(24)),s=n(8),u=n(3),l=n(14),d=n(21),f=n(1),b=r.a.createContext(),j=function(e){var t=e.children,n=Object(l.a)("contacts",[]),c=Object(s.a)(n,2),a=c[0],i=c[1],o=r.a.useCallback((function(e){var t=e.userid,n=e.username;i((function(e){return[].concat(Object(d.a)(e),[{userid:t,username:n}])}))}),[i]);return Object(f.jsx)(b.Provider,{value:{contacts:a,createContact:o},children:t})},h=r.a.createContext(),O=function(e){var t=e.children,n=Object(l.a)("conversations",[]),a=Object(s.a)(n,2),i=a[0],o=a[1],u=Object(c.useContext)(b).contacts,j=r.a.useCallback((function(e){var t=e.map((function(e){return u.find((function(t){return e===t.userid}))}));o((function(e){return[].concat(Object(d.a)(e),[{recipients:t,messages:[]}])}))}),[u,o]);return Object(f.jsx)(h.Provider,{value:{conversations:i,createConversation:j},children:t})},g=function(e){Object.assign({},e);var t=Object(u.f)(),n=r.a.useState("Please wait..."),c=Object(s.a)(n,2),a=c[0],i=c[1];return r.a.useEffect((function(){document.title="Please wait...",i("Login in..."),setTimeout((function(){i("Welcome"),setTimeout((function(){t.push("/my-dashboard")}),2e3)}),2e3)}),[t]),Object(f.jsx)(o.default,{text:a})},m=r.a.memo(g),v=n(40),x=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,335))})),p=r.a.lazy((function(){return Promise.resolve().then(n.bind(null,24))})),S=r.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(6)]).then(n.bind(null,331))})),y=function(){var e=Object(u.f)(),t=Object(v.a)(),n=Object(l.a)("USER_CREDENTIAL"),a=Object(s.a)(n,1)[0],i=r.a.useCallback((function(){}),[]);return r.a.useEffect((function(){a?t(a).then((function(){e.push("/my-dashboard")})).catch((function(){console.log("Hello"),e.push("/login")})):e.push("/login")}),[e,t,a]),Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)(p,{}),children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/login",exact:!0,children:Object(f.jsx)(x,{onCreateNewId:i})}),Object(f.jsx)(u.a,{path:"/auth",exact:!0,children:Object(f.jsx)(m,{})}),Object(f.jsx)(u.a,{path:"/my-dashboard",exact:!0,children:Object(f.jsx)(j,{children:Object(f.jsx)(O,{children:Object(f.jsx)(S,{})})})})]})})},w=r.a.memo(y);function I(){return Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)(o.default,{text:"Thinking..."}),children:Object(f.jsx)(w,{})})}var C=r.a.memo(I),k=n(9),P=n(20),M=Object(k.b)({name:"MessageSlice",initialState:{messages:[]},reducers:{setMessage:function(e,t){}}}),N=(M.actions.setMessage,M.reducer),E=n(34),U=n(17),L=n(36),T=Object(k.a)({reducer:{auth:P.a,message:N,selecteds:E.a,loginMessage:U.a,refresh:L.a}}),J=n(19);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(27),z=(n(79),n(80),n(37));i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(J.a,{store:T,children:Object(f.jsxs)(R.a,{children:[Object(f.jsx)(C,{}),Object(f.jsx)(z.a,{position:"bottom-left",className:"font-weight-bold"})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[81,2,4]]]);
//# sourceMappingURL=main.6338bd1c.chunk.js.map