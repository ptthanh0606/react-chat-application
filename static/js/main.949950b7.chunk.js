(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{16:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(9),r=Object(c.b)({name:"LoginMessageSlice",initialState:{label:""},reducers:{setLoginMessage:function(e,t){e.label=t.payload}}}),a=r.actions.setLoginMessage,i=function(e){return e.loginMessage.label},o=r.reducer},19:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(9),r=Object(c.b)({name:"authSlice",initialState:{user:{}},reducers:{setUserInfo:function(e,t){e.user=t.payload}}}),a=r.actions.setUserInfo,i=function(e){return e.auth.user},o=r.reducer},23:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n(34),a=n(0),i=n.n(a),o=n(45),s=n.n(o),u=n(1),l=function(e){var t=e.text,n=void 0===t?"Stuff up some works...":t,a=Object(r.a)(e,["text"]);return Object(u.jsx)("div",Object(c.a)(Object(c.a)({className:"d-flex align-items-center justify-content-center",style:{height:"100vh"}},a),{},{children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(u.jsx)(s.a,{type:"spin",color:"#F74F4F",height:42,width:42}),Object(u.jsx)("span",{className:"font-weight-bold mt-2",children:n})]})}))};t.default=i.a.memo(l)},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return l}));var c="http://chat-application.us-east-2.elasticbeanstalk.com/api/",r=c+"user/login",a=function(e){return c+"contact?uuid="+e},i=function(e){return c+"contact/addcontact?uuid="+e},o=function(e){return c+"conversation?uuid="+e},s=function(e){return c+"conversation/startConversation?uuid="+e},u=function(e){return c+"message/sendMessage?conversationId="+e},l=function(e,t){return c+"message?conversationId="+e+"&uuid="+t}},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var c=n(9),r=Object(c.b)({name:"SelectedsSlice",initialState:{uuid:"",conversationId:""},reducers:{setSelectedUUID:function(e,t){e.uuid=t.payload},setSelectedConversationId:function(e,t){e.conversationId=t.payload}}}),a=function(e){return e.selecteds},i=r.actions,o=(i.setSelectedUUID,i.setSelectedConversationId),s=r.reducer},35:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var c=n(9),r=Object(c.b)({name:"refreshSlice",initialState:{trigger:{}},reducers:{triggerRefresh:function(e,t){console.log("Hello"),t.payload}}}),a=r.actions.triggerRefresh,i=function(e){return e.refresh.triggger},o=r.reducer},53:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),i=n.n(a),o=(n(53),n(23)),s=n(5),u=n(3),l="CHATAPP-";function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=l+e,c=r.a.useState((function(){var e=localStorage.getItem(n);return null!==e?JSON.parse(e):"function"===typeof t?t():t})),a=Object(s.a)(c,2),i=a[0],o=a[1];return r.a.useEffect((function(){localStorage.setItem(n,JSON.stringify(i))}),[n,i]),[i,o]}var f=n(20),b=n(1),j=r.a.createContext(),h=function(e){var t=e.children,n=d("contacts",[]),c=Object(s.a)(n,2),a=c[0],i=c[1],o=r.a.useCallback((function(e){var t=e.userid,n=e.username;i((function(e){return[].concat(Object(f.a)(e),[{userid:t,username:n}])}))}),[i]);return Object(b.jsx)(j.Provider,{value:{contacts:a,createContact:o},children:t})},g=r.a.createContext(),O=function(e){var t=e.children,n=d("conversations",[]),a=Object(s.a)(n,2),i=a[0],o=a[1],u=Object(c.useContext)(j).contacts,l=r.a.useCallback((function(e){var t=e.map((function(e){return u.find((function(t){return e===t.userid}))}));o((function(e){return[].concat(Object(f.a)(e),[{recipients:t,messages:[]}])}))}),[u,o]);return Object(b.jsx)(g.Provider,{value:{conversations:i,createConversation:l},children:t})},m=n(14),v=n(31),x=n.n(v),p=n(18),S=n(30),y=n(19),w=n(16),I=function(){var e=Object(p.b)(),t=r.a.useState(!1),n=Object(s.a)(t,2)[1],c=r.a.useCallback((function(t){return new Promise((function(c,r){x.a.post(S.f,t).then((function(t){e(Object(y.c)(t.data.data)),n(!0),c()})).catch((function(t){Object(m.a)({},t).response?e(Object(w.c)("Incorrect password or email! Please try again.")):e(Object(w.c)("Server error! Please contact the administrator.")),n(!1),r()}))}))}),[e]);return function(e){return c(e)}},C=function(e){Object.assign({},e);var t=Object(u.g)().state,n=Object(u.f)(),c=I(),a=d("USER_CREDENTIAL"),i=Object(s.a)(a,2),l=(i[0],i[1]),f=r.a.useState("Please wait..."),j=Object(s.a)(f,2),h=j[0],g=j[1];return r.a.useEffect((function(){g("Login in..."),c(t).then((function(){setTimeout((function(){g("Welcome"),l(t),setTimeout((function(){n.push("/my-dashboard")}),2e3)}),2e3)})).catch((function(){setTimeout((function(){g("There is something wrong..."),setTimeout((function(){n.push("/login")}),2e3)}),2e3)}))}),[]),Object(b.jsx)(o.default,{text:h})},k=r.a.memo(C),P=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,322))})),E=r.a.lazy((function(){return Promise.resolve().then(n.bind(null,23))})),M=r.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(5)]).then(n.bind(null,327))})),N=function(){var e=Object(u.f)(),t=I(),n=d("USER_CREDENTIAL"),a=Object(s.a)(n,1)[0],i=r.a.useCallback((function(){}),[]);return r.a.useEffect((function(){a?t(a).then((function(){e.push("/my-dashboard")})).catch((function(){console.log("Hello"),e.push("/login")})):e.push("/login")}),[e,t,a]),Object(b.jsx)(c.Suspense,{fallback:Object(b.jsx)(E,{}),children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/login",exact:!0,children:Object(b.jsx)(P,{onCreateNewId:i})}),Object(b.jsx)(u.a,{path:"/auth",exact:!0,children:Object(b.jsx)(k,{})}),Object(b.jsx)(u.a,{path:"/my-dashboard",exact:!0,children:Object(b.jsx)(h,{children:Object(b.jsx)(O,{children:Object(b.jsx)(M,{})})})})]})})},T=r.a.memo(N);function U(){return Object(b.jsx)(c.Suspense,{fallback:Object(b.jsx)(o.default,{text:"Thinking..."}),children:Object(b.jsx)(T,{})})}var L=r.a.memo(U),R=n(9),A=Object(R.b)({name:"MessageSlice",initialState:{messages:[]},reducers:{setMessage:function(e,t){}}}),D=(A.actions.setMessage,A.reducer),J=n(33),z=n(35),F=Object(R.a)({reducer:{auth:y.a,message:D,selecteds:J.a,loginMessage:w.a,refresh:z.a}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=n(26),W=(n(76),n(77),n(36));i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(p.a,{store:F,children:Object(b.jsxs)(H.a,{children:[Object(b.jsx)(L,{}),Object(b.jsx)(W.a,{position:"bottom-left",className:"font-weight-bold"})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[78,2,4]]]);
//# sourceMappingURL=main.949950b7.chunk.js.map