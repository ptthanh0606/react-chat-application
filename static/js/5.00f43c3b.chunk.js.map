{"version":3,"sources":["svgs/ui-elements/at.svg","components/PTAButton/index.js","views/Login/Login.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","_ref3","SvgAt","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","PTAButton","isLoading","Button","disabled","className","color","PRIMARY","type","height","width","children","React","memo","validationSchema","yup","shape","email","required","password","Login","onCreateNewId","history","useHistory","login","useLogin","loginMessage","useSelector","loginMessageSelector","useLocalStorage","setLoginInfo","useState","setLoadingState","handleLogin","useCallback","data","setTimeout","then","push","catch","finally","handleCreateNewId","formik","useFormik","initialValues","onSubmit","useEffect","document","Form","handleSubmit","Group","Label","Control","autoFocus","name","autoComplete","onChange","handleChange","value","values","isInvalid","errors","Feedback","variant","onClick","href","rel"],"mappings":"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","file":"static/js/5.00f43c3b.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M255,0C114.06,0,0,114.05,0,255c0,139.895,113.025,257,255,257c140.644,0,257-115.914,257-257C512,112.87,394.743,0,255,0 z M255,482.2C130.935,482.2,29.8,380.168,29.8,255C29.8,130.935,130.935,29.8,255,29.8c125.168,0,227.2,101.135,227.2,225.2 C482.2,380.168,380.168,482.2,255,482.2z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M255,90c-90.981,0-165,74.019-165,165c0,91.323,73.867,167,165,167c36.874,0,74.175-12.393,102.339-34.001 c6.573-5.043,7.813-14.459,2.77-21.032c-5.043-6.573-14.46-7.813-21.032-2.77C316.048,381.866,285.403,392.2,255,392.2 c-74.439,0-135-61.658-135-137.2c0-74.439,60.561-135.2,135-135.2c75.542,0,137,60.761,137,135.2v15c0,16.542-13.458,30-30,30 s-30-13.458-30-30c0-7.43,0-67.164,0-75c0-8.284-6.716-15-15-15s-15,6.716-15,15v0.951C288.454,185.622,272.068,180,255,180 c-41.355,0-75,33.645-75,75s33.645,75,75,75c22.423,0,43.059-9.622,57.735-25.812C323.583,319.772,341.615,330,362,330 c33.084,0,60-26.916,60-60v-15C422,163.746,346.21,90,255,90z M255,300.2c-24.813,0-45-20.387-45-45.2s20.187-45.2,45-45.2 c25.477,0,47,20.807,47,45.2S280.477,300.2,255,300.2z\"\n})));\n\nfunction SvgAt(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAt);\nexport default __webpack_public_path__ + \"static/media/at.d7be5e3c.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { PRIMARY } from \"../../_utils/colors\";\r\nimport \"./PTAButton.scss\";\r\n\r\nconst PTAButton = ({ isLoading = false, ...props }) => {\r\n  return (\r\n    <Button\r\n      {...props}\r\n      disabled={isLoading}\r\n      className={`${props.className} PTAButton ${(isLoading && \"loading\") || \"\"}`}\r\n    >\r\n      {isLoading ? (\r\n        <ReactLoading\r\n          color={PRIMARY}\r\n          type=\"spin\"\r\n          height={25}\r\n          width={16}\r\n          className=\"loading-icon\"\r\n        />\r\n      ) : (\r\n        props.children\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default React.memo(PTAButton);\r\n","import React from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFormik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport { loginMessageSelector } from \"../../slices/auth/loginMessage\";\r\nimport { ReactComponent as AtContact } from \"../../svgs/ui-elements/at.svg\";\r\n\r\nimport \"./Login.scss\";\r\nimport PTAButton from \"../../components/PTAButton\";\r\nimport { useLogin } from \"../../_hooks/useLogin\";\r\nimport useLocalStorage from \"../../_hooks/useLocalStorage\";\r\n\r\nconst validationSchema = yup.object().shape({\r\n  email: yup.string().email().required(),\r\n  password: yup.string().required(),\r\n});\r\n\r\nconst Login = ({ onCreateNewId = () => {} }) => {\r\n  const history = useHistory();\r\n  const login = useLogin();\r\n  const loginMessage = useSelector(loginMessageSelector);\r\n  const [, setLoginInfo] = useLocalStorage(\"USER_CREDENTIAL\");\r\n  const [isLoading, setLoadingState] = React.useState(false);\r\n\r\n  const handleLogin = React.useCallback(\r\n    (data) => {\r\n      setLoadingState(true);\r\n      setTimeout(() => {\r\n        login(data)\r\n          .then(() => {\r\n            setLoginInfo(data); // Authentication token is not available yet, since this application is aiming for socket.io\r\n            history.push(\"/auth\");\r\n          })\r\n          .catch(() => {\r\n            setLoadingState(false);\r\n          })\r\n          .finally(() => {\r\n            setLoadingState(false);\r\n          });\r\n      }, 2000);\r\n    },\r\n    [history, login, setLoginInfo]\r\n  );\r\n\r\n  const handleCreateNewId = React.useCallback(() => {\r\n    onCreateNewId();\r\n  }, [onCreateNewId]);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n    },\r\n    onSubmit: handleLogin,\r\n    validationSchema,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    document.title = \"PTA | Login\";\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"left d-flex flex-column justify-content-between\">\r\n        <h5 className=\"app-header font-weight-bolder text-primary\">PTA</h5>\r\n        <div className=\"login-page-content\">\r\n          <div className=\"title mb-4\">\r\n            <h4 className=\"mb-0\">PT's simple chat application</h4>\r\n            <span className=\"small text-muted\">Please login to continue</span>\r\n          </div>\r\n          <div className=\"login-form\">\r\n            <Form className=\"w-100\" onSubmit={formik.handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Label className=\"small\">Your email</Form.Label>\r\n                <Form.Control\r\n                  autoFocus={true}\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  autoComplete=\"username\"\r\n                  onChange={formik.handleChange}\r\n                  value={formik.values.email}\r\n                  isInvalid={formik.errors.email}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {formik.errors.email}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label className=\"small\">Your password</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={formik.handleChange}\r\n                  value={formik.values.password}\r\n                  isInvalid={formik.errors.password}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {formik.errors.password}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <div className=\"mt-5\">\r\n                <PTAButton\r\n                  isLoading={isLoading}\r\n                  name=\"login\"\r\n                  type=\"submit\"\r\n                  className=\"mr-2 mb-1 action-btn\"\r\n                >\r\n                  Get started\r\n                </PTAButton>\r\n                <PTAButton\r\n                  className=\"mb-1 action-btn\"\r\n                  variant=\"secondary\"\r\n                  name=\"createaccount\"\r\n                  onClick={handleCreateNewId}\r\n                >\r\n                  Create new account id\r\n                </PTAButton>\r\n              </div>\r\n              <span className=\"text-danger\">{loginMessage}</span>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n        <div className=\"mini-footer small text-muted\">\r\n          <p>\r\n            Yes, this application is{\" \"}\r\n            <span className=\"font-weight-bold text-primary\">super simple</span>,\r\n            mainly on the socket.io apis.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"right\">\r\n        <a\r\n          href=\"https://www.facebook.com/ptteee/\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          className=\"contact-button\"\r\n        >\r\n          <AtContact className=\"contact-icon\" />\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Login);\r\n"],"sourceRoot":""}